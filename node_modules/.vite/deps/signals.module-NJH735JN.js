import {
  F,
  _,
  h
} from "./chunk-IL55ZV34.js";
import {
  d,
  l
} from "./chunk-RIPV6GKN.js";
import "./chunk-TWLJ45QX.js";

// node_modules/@preact/signals-core/dist/signals-core.module.js
function i() {
  throw new Error("Cycle detected");
}
function t() {
  if (!(n > 1)) {
    var i2, t2 = false;
    while (void 0 !== r) {
      var h3 = r;
      r = void 0;
      s++;
      while (void 0 !== h3) {
        var o2 = h3.o;
        h3.o = void 0;
        h3.f &= -3;
        if (!(8 & h3.f) && d2(h3))
          try {
            h3.c();
          } catch (h4) {
            if (!t2) {
              i2 = h4;
              t2 = true;
            }
          }
        h3 = o2;
      }
    }
    s = 0;
    n--;
    if (t2)
      throw i2;
  } else
    n--;
}
function h2(i2) {
  if (n > 0)
    return i2();
  n++;
  try {
    return i2();
  } finally {
    t();
  }
}
var o = void 0;
var r = void 0;
var n = 0;
var s = 0;
var f = 0;
function v(i2) {
  if (void 0 !== o) {
    var t2 = i2.n;
    if (void 0 === t2 || t2.t !== o) {
      o.s = t2 = { i: 0, S: i2, p: void 0, n: o.s, t: o, e: void 0, x: void 0, r: t2 };
      i2.n = t2;
      if (32 & o.f)
        i2.S(t2);
      return t2;
    } else if (-1 === t2.i) {
      t2.i = 0;
      if (void 0 !== t2.p) {
        t2.p.n = t2.n;
        if (void 0 !== t2.n)
          t2.n.p = t2.p;
        t2.p = void 0;
        t2.n = o.s;
        o.s.p = t2;
        o.s = t2;
      }
      return t2;
    }
  }
}
function e(i2) {
  this.v = i2;
  this.i = 0;
  this.n = void 0;
  this.t = void 0;
}
e.prototype.h = function() {
  return true;
};
e.prototype.S = function(i2) {
  if (this.t !== i2 && void 0 === i2.e) {
    i2.x = this.t;
    if (void 0 !== this.t)
      this.t.e = i2;
    this.t = i2;
  }
};
e.prototype.U = function(i2) {
  var t2 = i2.e, h3 = i2.x;
  if (void 0 !== t2) {
    t2.x = h3;
    i2.e = void 0;
  }
  if (void 0 !== h3) {
    h3.e = t2;
    i2.x = void 0;
  }
  if (i2 === this.t)
    this.t = h3;
};
e.prototype.subscribe = function(i2) {
  var t2 = this;
  return b(function() {
    var h3 = t2.value, o2 = 32 & this.f;
    this.f &= -33;
    try {
      i2(h3);
    } finally {
      this.f |= o2;
    }
  });
};
e.prototype.valueOf = function() {
  return this.value;
};
e.prototype.toString = function() {
  return this.value + "";
};
e.prototype.peek = function() {
  return this.v;
};
Object.defineProperty(e.prototype, "value", { get: function() {
  var i2 = v(this);
  if (void 0 !== i2)
    i2.i = this.i;
  return this.v;
}, set: function(h3) {
  if (h3 !== this.v) {
    if (s > 100)
      i();
    this.v = h3;
    this.i++;
    f++;
    n++;
    try {
      for (var o2 = this.t; void 0 !== o2; o2 = o2.x)
        o2.t.N();
    } finally {
      t();
    }
  }
} });
function u(i2) {
  return new e(i2);
}
function d2(i2) {
  for (var t2 = i2.s; void 0 !== t2; t2 = t2.n)
    if (t2.S.i !== t2.i || !t2.S.h() || t2.S.i !== t2.i)
      return true;
  return false;
}
function c(i2) {
  for (var t2 = i2.s; void 0 !== t2; t2 = t2.n) {
    var h3 = t2.S.n;
    if (void 0 !== h3)
      t2.r = h3;
    t2.S.n = t2;
    t2.i = -1;
  }
}
function a(i2) {
  var t2 = i2.s, h3 = void 0;
  while (void 0 !== t2) {
    var o2 = t2.n;
    if (-1 === t2.i) {
      t2.S.U(t2);
      t2.n = void 0;
    } else {
      if (void 0 !== h3)
        h3.p = t2;
      t2.p = void 0;
      t2.n = h3;
      h3 = t2;
    }
    t2.S.n = t2.r;
    if (void 0 !== t2.r)
      t2.r = void 0;
    t2 = o2;
  }
  i2.s = h3;
}
function l2(i2) {
  e.call(this, void 0);
  this.x = i2;
  this.s = void 0;
  this.g = f - 1;
  this.f = 4;
}
(l2.prototype = new e()).h = function() {
  this.f &= -3;
  if (1 & this.f)
    return false;
  if (32 == (36 & this.f))
    return true;
  this.f &= -5;
  if (this.g === f)
    return true;
  this.g = f;
  this.f |= 1;
  if (this.i > 0 && !d2(this)) {
    this.f &= -2;
    return true;
  }
  var i2 = o;
  try {
    c(this);
    o = this;
    var t2 = this.x();
    if (16 & this.f || this.v !== t2 || 0 === this.i) {
      this.v = t2;
      this.f &= -17;
      this.i++;
    }
  } catch (i3) {
    this.v = i3;
    this.f |= 16;
    this.i++;
  }
  o = i2;
  a(this);
  this.f &= -2;
  return true;
};
l2.prototype.S = function(i2) {
  if (void 0 === this.t) {
    this.f |= 36;
    for (var t2 = this.s; void 0 !== t2; t2 = t2.n)
      t2.S.S(t2);
  }
  e.prototype.S.call(this, i2);
};
l2.prototype.U = function(i2) {
  e.prototype.U.call(this, i2);
  if (void 0 === this.t) {
    this.f &= -33;
    for (var t2 = this.s; void 0 !== t2; t2 = t2.n)
      t2.S.U(t2);
  }
};
l2.prototype.N = function() {
  if (!(2 & this.f)) {
    this.f |= 6;
    for (var i2 = this.t; void 0 !== i2; i2 = i2.x)
      i2.t.N();
  }
};
l2.prototype.peek = function() {
  if (!this.h())
    i();
  if (16 & this.f)
    throw this.v;
  return this.v;
};
Object.defineProperty(l2.prototype, "value", { get: function() {
  if (1 & this.f)
    i();
  var t2 = v(this);
  this.h();
  if (void 0 !== t2)
    t2.i = this.i;
  if (16 & this.f)
    throw this.v;
  return this.v;
} });
function w(i2) {
  return new l2(i2);
}
function y(i2) {
  var h3 = i2.u;
  i2.u = void 0;
  if ("function" == typeof h3) {
    n++;
    var r2 = o;
    o = void 0;
    try {
      h3();
    } catch (t2) {
      i2.f &= -2;
      i2.f |= 8;
      _2(i2);
      throw t2;
    } finally {
      o = r2;
      t();
    }
  }
}
function _2(i2) {
  for (var t2 = i2.s; void 0 !== t2; t2 = t2.n)
    t2.S.U(t2);
  i2.x = void 0;
  i2.s = void 0;
  y(i2);
}
function g(i2) {
  if (o !== this)
    throw new Error("Out-of-order effect");
  a(this);
  o = i2;
  this.f &= -2;
  if (8 & this.f)
    _2(this);
  t();
}
function p(i2) {
  this.x = i2;
  this.u = void 0;
  this.s = void 0;
  this.o = void 0;
  this.f = 32;
}
p.prototype.c = function() {
  var i2 = this.S();
  try {
    if (!(8 & this.f) && void 0 !== this.x)
      this.u = this.x();
  } finally {
    i2();
  }
};
p.prototype.S = function() {
  if (1 & this.f)
    i();
  this.f |= 1;
  this.f &= -9;
  y(this);
  c(this);
  n++;
  var t2 = o;
  o = this;
  return g.bind(this, t2);
};
p.prototype.N = function() {
  if (!(2 & this.f)) {
    this.f |= 2;
    this.o = r;
    r = this;
  }
};
p.prototype.d = function() {
  this.f |= 8;
  if (!(1 & this.f))
    _2(this);
};
function b(i2) {
  var t2 = new p(i2);
  t2.c();
  return t2.d.bind(t2);
}

// node_modules/@preact/signals/dist/signals.module.js
var c2;
var v2;
function s2(n2, r2) {
  l[n2] = r2.bind(null, l[n2] || function() {
  });
}
function l3(n2) {
  if (v2)
    v2();
  v2 = n2 && n2.S();
}
function p2(n2) {
  var i2 = this, t2 = n2.data, f2 = useSignal(t2);
  f2.value = t2;
  var o2 = F(function() {
    var n3 = i2.__v;
    while (n3 = n3.__)
      if (n3.__c) {
        n3.__c.__$f |= 4;
        break;
      }
    i2.__$u.c = function() {
      i2.base.data = o2.peek();
    };
    return w(function() {
      var n4 = f2.value.value;
      return 0 === n4 ? 0 : true === n4 ? "" : n4 || "";
    });
  }, []);
  return o2.value;
}
p2.displayName = "_st";
Object.defineProperties(e.prototype, { constructor: { configurable: true }, type: { configurable: true, value: p2 }, props: { configurable: true, get: function() {
  return { data: this };
} }, __b: { configurable: true, value: 1 } });
s2("__b", function(n2, i2) {
  if ("string" == typeof i2.type) {
    var r2, t2 = i2.props;
    for (var f2 in t2)
      if ("children" !== f2) {
        var e2 = t2[f2];
        if (e2 instanceof e) {
          if (!r2)
            i2.__np = r2 = {};
          r2[f2] = e2;
          t2[f2] = e2.peek();
        }
      }
  }
  n2(i2);
});
s2("__r", function(n2, i2) {
  l3();
  var r2, t2 = i2.__c;
  if (t2) {
    t2.__$f &= -2;
    if (void 0 === (r2 = t2.__$u))
      t2.__$u = r2 = function(n3) {
        var i3;
        b(function() {
          i3 = this;
        });
        i3.c = function() {
          t2.__$f |= 1;
          t2.setState({});
        };
        return i3;
      }();
  }
  c2 = t2;
  l3(r2);
  n2(i2);
});
s2("__e", function(n2, i2, r2, t2) {
  l3();
  c2 = void 0;
  n2(i2, r2, t2);
});
s2("diffed", function(n2, i2) {
  l3();
  c2 = void 0;
  var r2;
  if ("string" == typeof i2.type && (r2 = i2.__e)) {
    var t2 = i2.__np, f2 = i2.props;
    if (t2) {
      var o2 = r2.U;
      if (o2)
        for (var e2 in o2) {
          var u2 = o2[e2];
          if (void 0 !== u2 && !(e2 in t2)) {
            u2.d();
            o2[e2] = void 0;
          }
        }
      else
        r2.U = o2 = {};
      for (var a2 in t2) {
        var v3 = o2[a2], s3 = t2[a2];
        if (void 0 === v3) {
          v3 = d3(r2, a2, s3, f2);
          o2[a2] = v3;
        } else
          v3.o(s3, f2);
      }
    }
  }
  n2(i2);
});
function d3(n2, i2, r2, t2) {
  var f2 = i2 in n2 && void 0 === n2.ownerSVGElement, o2 = u(r2);
  return { o: function(n3, i3) {
    o2.value = n3;
    t2 = i3;
  }, d: b(function() {
    var r3 = o2.value.value;
    if (t2[i2] !== r3) {
      t2[i2] = r3;
      if (f2)
        n2[i2] = r3;
      else if (r3)
        n2.setAttribute(i2, r3);
      else
        n2.removeAttribute(i2);
    }
  }) };
}
s2("unmount", function(n2, i2) {
  if ("string" == typeof i2.type) {
    var r2 = i2.__e;
    if (r2) {
      var t2 = r2.U;
      if (t2) {
        r2.U = void 0;
        for (var f2 in t2) {
          var o2 = t2[f2];
          if (o2)
            o2.d();
        }
      }
    }
  } else {
    var e2 = i2.__c;
    if (e2) {
      var u2 = e2.__$u;
      if (u2) {
        e2.__$u = void 0;
        u2.d();
      }
    }
  }
  n2(i2);
});
s2("__h", function(n2, i2, r2, t2) {
  if (t2 < 3)
    i2.__$f |= 2;
  n2(i2, r2, t2);
});
d.prototype.shouldComponentUpdate = function(n2, i2) {
  var r2 = this.__$u;
  if (!(r2 && void 0 !== r2.s || 4 & this.__$f))
    return true;
  if (3 & this.__$f)
    return true;
  for (var t2 in i2)
    return true;
  for (var f2 in n2)
    if ("__source" !== f2 && n2[f2] !== this.props[f2])
      return true;
  for (var o2 in this.props)
    if (!(o2 in n2))
      return true;
  return false;
};
function useSignal(n2) {
  return F(function() {
    return u(n2);
  }, []);
}
function useComputed(n2) {
  var i2 = _(n2);
  i2.current = n2;
  c2.__$f |= 4;
  return F(function() {
    return w(function() {
      return i2.current();
    });
  }, []);
}
function useSignalEffect(n2) {
  var i2 = _(n2);
  i2.current = n2;
  h(function() {
    return b(function() {
      i2.current();
    });
  }, []);
}
export {
  e as Signal,
  h2 as batch,
  w as computed,
  b as effect,
  u as signal,
  useComputed,
  useSignal,
  useSignalEffect
};
//# sourceMappingURL=signals.module-NJH735JN.js.map
